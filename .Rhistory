dm <- read_table("https://www.prdh.umontreal.ca/BDLC/data/ont/Mx_1x1.txt", skip = 2, col_types = "dcddd")
library(tidyverse)
dm <- read_table("https://www.prdh.umontreal.ca/BDLC/data/ont/Mx_1x1.txt", skip = 2, col_types = "dcddd")
library(tidyverse)
dm <- read_table("https://www.prdh.umontreal.ca/BDLC/data/ont/Mx_1x1.txt", skip = 2, col_types = "dcddd")
dm <- read_table("https://www.prdh.umontreal.ca/BDLC/data/ont/Mx_1x1.txt", skip = 2, col_types = "dcddd")
library(tidyverse)
dm <- read_table("https://www.prdh.umontreal.ca/BDLC/data/ont/Mx_1x1.txt", skip = 2, col_types = "dcddd")
message: false
message: FALSE
message: false
#message: false
dm <- read_table("https://www.prdh.umontreal.ca/BDLC/data/ont/Mx_1x1.txt", skip = 2, col_types = "dcddd")
echo: false
dm <- read_table("https://www.prdh.umontreal.ca/BDLC/data/ont/Mx_1x1.txt", skip = 2, col_types = "dcddd")
dm <- read_table("https://www.prdh.umontreal.ca/BDLC/data/ont/Mx_1x1.txt", skip = 2, col_types = "dcddd")
library(tidyverse)
dm <- read_table("https://www.prdh.umontreal.ca/BDLC/data/ont/Mx_1x1.txt", skip = 2, col_types = "dcddd")
dm |>
group_by(Age)|>
summarize(across(Female:Total, sd, na.rm=TRUE))
dm |>
group_by(Age)|>
summarize(across(Female:Total, sd))
library(tidyverse)
dm <- read_table("https://www.prdh.umontreal.ca/BDLC/data/ont/Mx_1x1.txt", skip = 2, col_types = "dcddd")
dm_r <- dm |>
mutate(mf_ratio = Male/Female)|>
filter(Age==10|Age==20|Age==30|Age==40)
dm_r |>
ggplot(aes(x=Year, y = mf_ratio, color = Age))+
geom_line()+
scale_color_brewer(palette = "Set1")+
theme_bw(base_size = 14)+
labs(title="Ratio of Male to Female Mortality Rates over time, Ontario", subtitle = "for ages 10,20,30 and 40", y = "Mortality Rates Ratio (Male/Female)")
dm |>
group_by(Year)|>
summarize(age_max_f = Age[which.max(Female)])
dm |>
group_by(Age)|>
summarize(across(Female:Total, sd))
dm |>
group_by(Age)|>
summarize(across(Female:Total, sd, na.rm=TRUE))
dh <- read_table("https://www.prdh.umontreal.ca/BDLC/data/ont/Population.txt", skip = 2, col_types = "dcddd")
tp <- dh|>
group_by(Year)|>
summarize(tp_f = sum(Female, na.rm=TRUE), tp_m = sum(Male, na.rm=TRUE))
dh1 <- dh|>
left_join(tp, "Year")
dh1 <- dh1|>
mutate(wf = Female/tp_f, wm = Male/tp_m)
dh2 <- dh1|>
select("Year", "Age", "wf", "wm")|>
filter(Year < 2020)
dmw <- dm|>
left_join(dh2, c("Year", "Age"))
dmw <- dmw|>
mutate(wmf = Female*wf, wmm = Male*wm)
dmpw <- dmw |>
group_by(Year)|>
summarize(Female = sum(wmf, na.rm=TRUE), Male = sum(wmm, na.rm=TRUE))
dmpw <- dmpw|>
pivot_longer(Female:Male, names_to = "Sex", values_to = "pwm")
dmpw |>
ggplot(aes(x = Year, y = pwm, color = Sex))+
geom_line()+
labs(title = "Population Weighted Average Moratlity Rates over time, Ontario", y = "Mortality Rate")+
theme_bw(base_size = 14)
library(tidyverse)
dm <- read_table("https://www.prdh.umontreal.ca/BDLC/data/ont/Mx_1x1.txt", skip = 2, col_types = "dcddd")
dm_r <- dm |>
mutate(mf_ratio = Male/Female)|>
filter(Age==10|Age==20|Age==30|Age==40)
dm_r |>
ggplot(aes(x=Year, y = mf_ratio, color = Age))+
geom_line()+
scale_color_brewer(palette = "Set1")+
theme_bw(base_size = 14)+
labs(title="Ratio of Male to Female Mortality Rates over time, Ontario", subtitle = "for ages 10,20,30 and 40", y = "Mortality Rates Ratio (Male/Female)")
dm |>
group_by(Year)|>
summarize(age_max_f = Age[which.max(Female)])
dm |>
group_by(Age)|>
summarize(across(Female:Total, sd, na.rm=TRUE))
dh <- read_table("https://www.prdh.umontreal.ca/BDLC/data/ont/Population.txt", skip = 2, col_types = "dcddd")
tp <- dh|>
group_by(Year)|>
summarize(tp_f = sum(Female, na.rm=TRUE), tp_m = sum(Male, na.rm=TRUE))
dh1 <- dh|>
left_join(tp, "Year")
dh1 <- dh1|>
mutate(wf = Female/tp_f, wm = Male/tp_m)
dh2 <- dh1|>
select("Year", "Age", "wf", "wm")|>
filter(Year < 2020)
dmw <- dm|>
left_join(dh2, c("Year", "Age"))
dmw <- dmw|>
mutate(wmf = Female*wf, wmm = Male*wm)
dmpw <- dmw |>
group_by(Year)|>
summarize(Female = sum(wmf, na.rm=TRUE), Male = sum(wmm, na.rm=TRUE))
dmpw <- dmpw|>
pivot_longer(Female:Male, names_to = "Sex", values_to = "pwm")
dmpw |>
ggplot(aes(x = Year, y = pwm, color = Sex))+
geom_line()+
labs(title = "Population Weighted Average Moratlity Rates over time, Ontario", y = "Mortality Rate")+
theme_bw(base_size = 14)
library(tidyverse)
dm <- read_table("https://www.prdh.umontreal.ca/BDLC/data/ont/Mx_1x1.txt", skip = 2, col_types = "dcddd")
dm_r <- dm |>
mutate(mf_ratio = Male/Female)|>
filter(Age==10|Age==20|Age==30|Age==40)
dm_r |>
ggplot(aes(x=Year, y = mf_ratio, color = Age))+
geom_line()+
scale_color_brewer(palette = "Set1")+
theme_bw(base_size = 14)+
labs(title="Ratio of Male to Female Mortality Rates over time, Ontario", subtitle = "for ages 10,20,30 and 40", y = "Mortality Rates Ratio (Male/Female)")
dm |>
group_by(Year)|>
summarize(age_max_f = Age[which.max(Female)])
dm |>
group_by(Age)|>
summarize(across(Female:Total, sd, na.rm=TRUE))
dh <- read_table("https://www.prdh.umontreal.ca/BDLC/data/ont/Population.txt", skip = 2, col_types = "dcddd")
tp <- dh|>
group_by(Year)|>
summarize(tp_f = sum(Female, na.rm=TRUE), tp_m = sum(Male, na.rm=TRUE))
dh1 <- dh|>
left_join(tp, "Year")
dh1 <- dh1|>
mutate(wf = Female/tp_f, wm = Male/tp_m)
dh2 <- dh1|>
select("Year", "Age", "wf", "wm")|>
filter(Year < 2020)
dmw <- dm|>
left_join(dh2, c("Year", "Age"))
dmw <- dmw|>
mutate(wmf = Female*wf, wmm = Male*wm)
dmpw <- dmw |>
group_by(Year)|>
summarize(Female = sum(wmf, na.rm=TRUE), Male = sum(wmm, na.rm=TRUE))
dmpw <- dmpw|>
pivot_longer(Female:Male, names_to = "Sex", values_to = "pwm")
dmpw |>
ggplot(aes(x = Year, y = pwm, color = Sex))+
geom_line()+
labs(title = "Population Weighted Average Moratlity Rates over time, Ontario", y = "Mortality Rate")+
theme_bw(base_size = 14)
dm |>
group_by(Age)|>
summarize(across(Female:Total, sd))
